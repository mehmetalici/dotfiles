- defaults:
    link:
      relink: true
    brew:
      stdout: false
      stderr: true

- clean: ['~']


- create:
  - ~/downloads
  - ~/.vim/undo-history


- git:
    '~/.fasd':
      url: 'https://github.com/clvv/fasd.git'
      description: 'Fasd, a command-line productivity booster that offers quick access to files and directories.'


- shell:
  - ./include/install-vscode
  - PREFIX=$HOME/.local make install -C ~/.fasd install && rm -rf ~/.fasd
  - command: NONINTERACTIVE=1 /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    stdin: true
  - git submodule update --init --recursive
  - bash -c "$(curl -fsSL https://raw.githubusercontent.com/ohmybash/oh-my-bash/master/tools/install.sh)" --unattended
  - command: |
      wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/downloads/miniconda.sh &&
      bash ~/downloads/miniconda.sh -b -p $HOME/miniconda3


- link:
    ~/.vimrc: dotfiles/vimrc
    ~/.aliases: dotfiles/aliases
    ~/.bashrc: 
      path: dotfiles/bashrc
      force: true
    ~/.gitconfig: dotfiles/gitconfig


# TODO: Remove brew dependencies since we have already apt.
- brew:
  - tldr
  - gh
  - fd
  - pipx


# TODO: Remove pipx plugin since it accepts from file and we have only single dependency defined there. 
- pipx:
    file: requirements-pipx.txt
    stdout: false
    stderr: true
